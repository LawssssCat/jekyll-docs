{%- comment -%}============================================ author ===================================== {%- endcomment -%}

{%- include snippets/assign.html 
  value1=page.show_article_info_author
  value2=layout.show_article_info_author
  value3=site.data.variables.default.page.show_article_info_author -%}
{%- assign _show_article_info_author = __return -%}
{%- assign _author = nil -%}
{%- if _show_article_info_author -%}
  {%- include snippets/get-author.html -%}
  {%- assign _author = __return -%}
  {%- if _author -%}
    {%- assign _show_article_info_author = true -%}
  {%- else -%}
    {%- assign _show_article_info_author = false -%}
  {%- endif -%}
{%- endif -%}

{%- comment -%}============================================ putlish ===================================== {%- endcomment -%}

{%- include snippets/assign.html 
  value1=page.show_article_info_publish_on
  value2=layout.show_article_info_publish_on
  value3=site.data.variables.default.page.show_article_info_publish_on -%}
{%- assign _show_article_info_publish_on = __return -%}

{%- comment -%}============================================ tags ===================================== {%- endcomment -%}

{%- include snippets/assign.html 
  value1=page.show_article_info_tags
  value2=layout.show_article_info_tags
  value3=site.data.variables.default.page.show_article_info_tags -%}
{%- assign _show_article_info_tags = __return -%}
{%- if _show_article_info_tags and page.tags[0] -%}
  {%- assign _show_article_info_tags = true -%}
{%- else -%}
  {%- assign _show_article_info_tags = false -%}
{%- endif -%}

{%- comment -%}============================================ switch ===================================== {%- endcomment -%}

{%- capture _lef_infos -%}
  {%- if _show_article_info_tags -%}
    {%- include snippets/get-accessible-url.html url=site.data.variables.default.paths.archive -%}
    {%- assign _path_archive = __return -%}
    <ul class="left-col menu">
      {%- for _tag in page.tags -%}
        {%- include snippets/get-string-encode.html str=_tag -%}
        {%- assign _tag_encode = __return -%}
        {%- assign _path_archive_tag = _path_archive | append: '?tag=' | append: _tag_encode -%}
        <li>
          <a class="button button--tag"
          href="{{ _path_archive_tag }}">{{ _tag }}</a>
        </li>
      {%- endfor -%}
    </ul>
  {%- endif -%}
{%- endcapture -%}

{%- capture _rig_infos -%}
  <ul class="right-col menu">

  </ul>
{%- endcapture -%}

{%- if _show_article_info_author -%}
<div class="infos">
  <!-- author avator -->
  {%- if _show_article_info_author -%}
    {%- include snippets/get-accessible-url.html url=_author.avatar -%}
    {%- assign _author_avatar_url = __return -%}
    {%- if _author_avatar_url -%}
      <div>
        <div class="article__author-avatar-wrapper">
          <img src="{{ _author_avatar_url }}" alt="author avatar">
        </div>
      </div>
    {%- endif -%}
  {%- endif -%}
  <!-- publish on -->
  {%- if _show_article_info_publish_on -%}
    {%- assign _publish_on = page.date | default: page["first_publish_at"] -%}
    {%- if _publish_on -%}
      {%- include snippets/get-string-locale-from-data.html key='ARTICLE_DATE_FORMAT' -%}
      {%- assign _locale_date_format = __return -%}
      {%- include snippets/get-string-locale-from-data.html key='PUBLISH_ON' -%}
      {%- assign _locale_publish_on = __return -%}
      <div>
        <p>
          {{ _locale_publish_on }}
          <span>{{ _publish_on | date: _locale_date_format }}</span>
        </p>
      </div>
    {%- endif -%}
  {%- endif -%}
  <!-- written by -->
  <!-- read time -->
  <!-- more on (tags) -->
</div>
{%- endif -%}

<!-- semantic -->
{%- if _author -%}
  <meta itemprop="author" content="{{ _author.name }}"/>
{%- endif -%}
{%- if include.article.tags[0] -%}
  {%- assign _keywords = include.article.tags | join: ',' %}
  <meta itemprop="keywords" content="{{ _keywords }}">
{%- endif -%}
