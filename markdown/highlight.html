<!DOCTYPE html><html lang="zh" data-theme="light"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>Highlight | jekyll-docs</title><meta name="description" content="Rouge Jekyll Official website - Code snippet highlighting. Rouge Official website - Supported Languages Rouge Official website - API Kramdown O..."><link rel="canonical" href="https://lawsssscat.github.io/"><link rel="alternate" type="application/rss+xml" title="jekyll-docs" href="/jekyll-docs/feed.xml"><link rel="apple-touch-icon" sizes="180x180" href="/jekyll-docs/assets/images/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/jekyll-docs/assets/images/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/jekyll-docs/assets/images/favicon/favicon-16x16.png"><link rel="manifest" href="/jekyll-docs/assets/images/favicon/site.webmanifest"><link rel="mask-icon" color="#5bbad5" href="/jekyll-docs/assets/images/favicon/safari-pinned-tab.svg"><meta name="msapplication-config" content="/jekyll-docs/assets/images/favicon/browserconfig.xml"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="/jekyll-docs/assets/css/style.css"> <script src="/jekyll-docs/assets/js/data/variables.js"></script><script src="/jekyll-docs/assets/js/dist/venders.min.js"></script><body><div class="layout--base"><div class="layout--page js-page-root"><div class="page__viewport"><div class="page__sidebar-actions d-print-none"><div class="button button--lg button--circle box-shadow-2 sidebar-button js-sidebar-show"> <i class="fas fa-bars icon--show"></i></div><script src="/jekyll-docs/assets/js/dist/sidebar/actions.min.js"></script></div><div class="page__grid grid"><div class="page__sidebar d-print-none"><div class="page__sidebar-inner"><div class="page__sidebar-quicklinks"><div class="quicklinks"><ol><li class="heading active"><div class="quicklinks-item" title="markdown">markdown</div><ol class="quicklinks-details"><li class="" title="Syntax"> <a href="/jekyll-docs/markdown/syntax">Syntax</a><li class="" title="Renderer"> <a href="/jekyll-docs/markdown/processor">Renderer</a><li class="active" title="Highlight"> <a href="/jekyll-docs/markdown/highlight">Highlight</a></ol><li class="heading "><div class="quicklinks-item" title="ruby"><a href="/jekyll-docs/ruby">ruby</a></div><li class="heading "><div class="quicklinks-item" title="liquid"><a href="/jekyll-docs/liquid">liquid</a></div><li class="heading "><div class="quicklinks-item" title="主题"><a href="/jekyll-docs/theme">主题</a></div><li class="heading "><div class="quicklinks-item" title="插件"><a href="/jekyll-docs/plugins">插件</a></div><ol class="quicklinks-details"><li class="" title="emoji"> <a href="/jekyll-docs/plugins/emoji">emoji</a></ol></ol></div><script src="/jekyll-docs/assets/js/dist/sidebar/quicklinks.min.js"></script></div></div><div class="page__sidebar-toggle d-print-none"> <i class="fas fa-bars icon--show"></i></div></div><div class="page__main js-page-main has-aside has-sidebar cell cell--auto"><div class="page__main-inner"><div class="page__header js-header d-print-none"><header class="header"><div class="main"><div class="navigation__toggle"><div class="toggle" aria-label="Menu"><div class="toggle__bar"></div><div class="toggle__bar"></div><div class="toggle__bar"></div></div></div><div class="header__title"><div class="header__brand"><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12 2.604-.43.283L0 10.459v6.752l6.393 4.184L12 17.725l5.607 3.671L24 17.211v-6.752L12 2.604zm0 .828 5.434 3.556-2.717 1.778L12 10.545l-2.717-1.78-2.717-1.777L12 3.432zM6.39 7.104l5.434 3.556-5.408 3.54-5.434-3.557 5.409-3.54zm11.22 0 5.431 3.554-5.434 3.557-5.433-3.555 5.435-3.556zM.925 10.867l5.379 3.52a.123.08 0 0 0 .027.013v5.647l-5.406-3.54v-5.64zm11.213.115 5.408 3.54v5.664l-5.408-3.54v-5.664z"/></svg><a class="header__brand-title" title="Collects the common information of Jekyll and put all in one site. " href="/jekyll-docs/">jekyll-docs</a></div></div><div class="navigation"><ul><li class="navigation__item"> <a class="navigation__item-link" href="javascript:void(0)"> <span>Docs</span> <i class="fas fa-angle-down navigation__item-sub_icon"></i> </a><div class="quicklinks-block"><div class="quicklinks-block-left-background"></div><div class="main quicklinks-block-content"><div class="quicklinks-block-left"><ul class="quicklinks-block-left-menu"><li><div class="quicklinks-title"><div class="quicklinks-title-text"> Jekyll <a href="/jekyll-docs/jekyll"><i class="fas fa-external-link-alt link-additional-icon"></i></a><div class="quicklinks-border"></div></div></div><li><div class="quicklinks-title"><div class="quicklinks-title-text"> site <a href="javascript:void(0)"><i class="fas fa-external-link-alt link-additional-icon"></i></a><div class="quicklinks-border"></div></div></div><li><div class="quicklinks-title"><div class="quicklinks-title-text"> tools <a href="javascript:void(0)"><i class="fas fa-external-link-alt link-additional-icon"></i></a><div class="quicklinks-border"></div></div></div></ul></div><div class="quicklinks-block-right"><div class="quicklinks-block-right-menu"><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> markdown <a href="javascript:void(0)"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/markdown/syntax">Syntax</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/markdown/processor">Renderer</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/markdown/highlight">Highlight</a></div></div><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> ruby <a href="/jekyll-docs/ruby"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div></div></div><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> liquid <a href="/jekyll-docs/liquid"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div></div></div><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> 主题 <a href="/jekyll-docs/theme"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div></div></div><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> 插件 <a href="/jekyll-docs/plugins"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/plugins/emoji">emoji</a></div></div></div><div class="quicklinks-block-right-menu"><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> Start <a href="javascript:void(0)"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/quick-start">Quick Start</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/structure">Structure</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/typography">Typography</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/blog-service-migration">Blog Migration</a></div></div><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> Samples <a href="/jekyll-docs/samples.html"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div></div></div><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> Components <a href="javascript:void(0)"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/components/spacing">Spacing</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/components/grid">Grid</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/components/code">Code</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/components/alert">Alert</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/components/button">Button</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/components/checkbox">Checkbox</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/components/icons">Icons</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/components/images">Images</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/components/item">Item</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/components/card">Card</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/components/hero">Hero</a><a class="quicklinks-block-right-menu-item-link" href="/jekyll-docs/docs/en/components/swiper">Swiper</a></div></div><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> Customization <a href="javascript:void(0)"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div></div></div><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> Configuration <a href="javascript:void(0)"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div><a class="quicklinks-block-right-menu-item-link" href=""></a></div></div><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> Authors <a href="/jekyll-docs/docs/en/authors"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div></div></div><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> Language <a href="javascript:void(0)"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div><a class="quicklinks-block-right-menu-item-link" href="">中文</a></div></div><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> Development <a href="javascript:void(0)"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div></div></div></div><div class="quicklinks-block-right-menu"><div class="quicklinks-block-right-menu-item"><div class="quicklinks-block-right-menu-item-title"> <a href="/jekyll-docs/tools"><i class="fas fa-external-link-alt link-additional-icon"></i></a></div><div></div></div></div></div></div></div><li class="navigation__item"> <a class="navigation__item-link" href="/jekyll-docs/archive"> <span>Archive</span> </a><li class="navigation__item"> <a class="navigation__item-link" href="/jekyll-docs/about"> <span>关于</span> </a></div><div class="toggle-items"><div class="toggle-item toggle-lang-switch"> <i class="fas fa-language"></i> <span>ZH</span></div><div class="toggle-item toggle-theme-switch"> <i class="toggle-theme-icon-light fas fa-sun"></i> <i class="toggle-theme-icon-dark far fa-moon"></i></div><div class="toggle-item toggle-docs-search"> <i class="fas fa-search"></i></div></div></div></header></div><div class="page__content"><div class="main"><div class="grid grid--reverse"><div class="col-aside d-print-none"><aside><div class="toc-aside"><header><h2 class="toc-handing">In this article</h2></header><div class="toc js-toc-root"></div><script> window.VARIABLES.append({ toc: { selectors: "h1,h2,h3,h4" } }); </script><script src="/jekyll-docs/assets/js/dist/aside/toc.min.js"></script></div></aside></div><div class="col-main cell cell--sm-auto"><article itemscope itemtype="http://schema.org/Article"><div><div class="layout--article"><div class="article__header"><header class="header"><h1>Highlight</h1><span class="split-space d-print-none">&nbsp;</span> <a class="edit-on-repo d-print-none" title="在 GitHub 上修改" href="https://github.com/lawsssscat/jekyll-docs/tree/dev/_jekyll/markdown-highlight.md"><i class="far fa-edit"></i></a></header><meta itemprop="headline" content="Highlight"></div><div class="article__infos d-print-none"><div class="infos"><div class="info__item article__author-avatar-wrapper"><div class="article__author-avatar"> <img src="/jekyll-docs/assets/images/avatar/18041500.jpg" alt="author avatar"></div></div><div class="info__item"><p> <font>Published on</font> <span class="nowrap">2022年08月18日</span></p></div><div class="info__item"><p> <font>Written by</font> <span class="nowrap"> <a href="https://lawsssscat.github.io/">@lawsssscat</a> </span></p></div><div class="info__item"><p> <font>Reading time</font> <span class="nowrap" data-toggle="popover" data-popper-trigger="hover focus" data-popper-title="" data-popper-content="1067 字"> 6 min </span></p></div><div class="info__item"><p> <font>Views</font><span class="nowrap js-pageview" data-one-page-action="increase" data-one-page-key="/markdown/markdown-highlight" data-one-page-title="Highlight" > <font class="views-num">0</font> Hits </span></p></div><div class="info__item"><p> <font>More on</font> <span class="wrap"><a href="/jekyll-docs/archive?tag=guide">guide</a>,&nbsp;<a href="/jekyll-docs/archive?tag=markdown">markdown</a>,&nbsp;<a href="/jekyll-docs/archive?tag=rouge">rouge</a>,&nbsp;<a href="/jekyll-docs/archive?tag=pygments">pygments</a></span></p></div></div><meta itemprop="author" content="lawsssscat"/></div><div class="article__content js-article-content"><h2 id="rouge">Rouge</h2><blockquote><ul><li><a href="https://jekyllrb.com/docs/liquid/tags/#code-snippet-highlighting">Jekyll Official website - Code snippet highlighting</a>.<li><a href="https://github.com/rouge-ruby/rouge/blob/master/docs/Languages.md">Rouge Official website - Supported Languages</a><li><a href="https://rouge-ruby.github.io/docs/">Rouge Official website - API</a><li><a href="https://kramdown.gettalong.org/syntax_highlighter/rouge.html">Kramdown Official website - rouge options</a></ul></blockquote><p><a href="https://github.com/rouge-ruby/rouge">Rouge</a> is Jekyll’s default syntax highlighter. Out of the box, Rouge will be used to highlight text wrapped in the <code class="language-plaintext highlighter-rouge">{% highlight %}</code> template tags. The <code class="language-plaintext highlighter-rouge">{% highlight %}</code> tag provides minimal options: you can specify the language to use and whether to enable line numbers or not.</p><blockquote class="info"><ul><li><a href="/jekyll-docs/docs/en/components/code">Demo</a><li><a href="http://rouge.jneen.net/v3.29.0/json/">Demo (Online)</a></ul></blockquote><p>By default, Jekyll uses Rouge for highlight rendering. Therefor, no additional configuration is required.</p><div class="details-wrapper"><div class="summary-content"><p><strong>The Order of Function Calling:</strong></p><ol><li><span class="info alert-compact">init</span><br /> <code class="language-plaintext highlighter-rouge">HighlightBlock.initialize</code><li><span class="info alert-compact">render</span><br /> <code class="language-plaintext highlighter-rouge">HighlightBlock.render</code> =&gt; <code class="language-plaintext highlighter-rouge">HighlightBlock.render_rouge</code></ol></div><div class="details-content-wrapper"> <details onclick="javascript: window.VARIABLES.pageScrollTarget.scroll({ top: TOOL.positionRelative( (this.open?this.parentElement.parentElement:this.parentElement), window.VARIABLES.pageScroller ).top, behavior: window.VARIABLES.pageScrollerBehavior }); "> <summary class="summary-toggle" title="click to show details"> <i class="summary-toggle-icon fas fa-angle-double-down"></i> </summary> </details><div class="details-content"><div class="details-content-inner"><p>details:</p><p><code class="language-plaintext highlighter-rouge">Jekyll</code> source <a href="https://github.com/jekyll/jekyll/blob/master/lib/jekyll/tags/highlight.rb">lib/jekyll/tags/highlight.rb</a></p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">Jekyll</span>
  <span class="k">module</span> <span class="nn">Tags</span>
    <span class="k">class</span> <span class="nc">HighlightBlock</span> <span class="o">&lt;</span> <span class="no">Liquid</span><span class="o">::</span><span class="no">Block</span>

      <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">tag_name</span><span class="p">,</span> <span class="n">markup</span><span class="p">,</span> <span class="n">tokens</span><span class="p">)</span>
        <span class="k">super</span>
        <span class="k">if</span> <span class="n">markup</span><span class="p">.</span><span class="nf">strip</span> <span class="o">=~</span> <span class="no">SYNTAX</span>
          <span class="vi">@lang</span> <span class="o">=</span> <span class="no">Regexp</span><span class="p">.</span><span class="nf">last_match</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nf">downcase</span>
          <span class="vi">@highlight_options</span> <span class="o">=</span> <span class="n">parse_options</span><span class="p">(</span><span class="no">Regexp</span><span class="p">.</span><span class="nf">last_match</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="k">else</span>
          <span class="k">raise</span> <span class="no">SyntaxError</span><span class="p">,</span> <span class="o">&lt;&lt;~</span><span class="no">MSG</span><span class="sh">
            Syntax Error in tag 'highlight' while parsing the following markup:
            </span><span class="si">#{</span><span class="n">markup</span><span class="si">}</span><span class="sh">
            Valid syntax: highlight &lt;lang&gt; [linenos]
</span><span class="no">          MSG</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="n">context</span><span class="p">[</span><span class="s2">"highlighter_prefix"</span><span class="p">]</span> <span class="o">||</span> <span class="s2">""</span>
        <span class="n">suffix</span> <span class="o">=</span> <span class="n">context</span><span class="p">[</span><span class="s2">"highlighter_suffix"</span><span class="p">]</span> <span class="o">||</span> <span class="s2">""</span>
        <span class="n">code</span> <span class="o">=</span> <span class="k">super</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="no">LEADING_OR_TRAILING_LINE_TERMINATORS</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span>

        <span class="n">output</span> <span class="o">=</span>
          <span class="k">case</span> <span class="n">context</span><span class="p">.</span><span class="nf">registers</span><span class="p">[</span><span class="ss">:site</span><span class="p">].</span><span class="nf">highlighter</span>
          <span class="k">when</span> <span class="s2">"rouge"</span>
            <span class="n">render_rouge</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
          <span class="k">when</span> <span class="s2">"pygments"</span>
            <span class="n">render_pygments</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="n">render_codehighlighter</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
          <span class="k">end</span>

        <span class="n">rendered_output</span> <span class="o">=</span> <span class="n">add_code_tag</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
        <span class="n">prefix</span> <span class="o">+</span> <span class="n">rendered_output</span> <span class="o">+</span> <span class="n">suffix</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">render_pygments</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">_context</span><span class="p">)</span>
        <span class="no">Jekyll</span><span class="p">.</span><span class="nf">logger</span><span class="p">.</span><span class="nf">warn</span> <span class="s2">"Warning:"</span><span class="p">,</span> <span class="s2">"Highlight Tag no longer supports rendering with Pygments."</span>
        <span class="no">Jekyll</span><span class="p">.</span><span class="nf">logger</span><span class="p">.</span><span class="nf">warn</span> <span class="s2">""</span><span class="p">,</span> <span class="s2">"Using the default highlighter, Rouge, instead."</span>
        <span class="n">render_rouge</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">render_rouge</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
        <span class="nb">require</span> <span class="s2">"rouge"</span>
        <span class="n">formatter</span> <span class="o">=</span> <span class="o">::</span><span class="no">Rouge</span><span class="o">::</span><span class="no">Formatters</span><span class="o">::</span><span class="no">HTML</span><span class="p">.</span><span class="nf">new</span>
        <span class="k">if</span> <span class="vi">@highlight_options</span><span class="p">[</span><span class="ss">:linenos</span><span class="p">]</span>
          <span class="n">formatter</span> <span class="o">=</span> <span class="o">::</span><span class="no">Rouge</span><span class="o">::</span><span class="no">Formatters</span><span class="o">::</span><span class="no">HTMLTable</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span>
            <span class="n">formatter</span><span class="p">,</span>
            <span class="p">{</span>
              <span class="ss">:css_class</span>    <span class="o">=&gt;</span> <span class="s2">"highlight"</span><span class="p">,</span>
              <span class="ss">:gutter_class</span> <span class="o">=&gt;</span> <span class="s2">"gutter"</span><span class="p">,</span>
              <span class="ss">:code_class</span>   <span class="o">=&gt;</span> <span class="s2">"code"</span><span class="p">,</span>
            <span class="p">}</span>
          <span class="p">)</span>
        <span class="k">end</span>
        <span class="n">lexer</span> <span class="o">=</span> <span class="o">::</span><span class="no">Rouge</span><span class="o">::</span><span class="no">Lexer</span><span class="p">.</span><span class="nf">find_fancy</span><span class="p">(</span><span class="vi">@lang</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span> <span class="o">||</span> <span class="no">Rouge</span><span class="o">::</span><span class="no">Lexers</span><span class="o">::</span><span class="no">PlainText</span>
        <span class="n">formatter</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">lexer</span><span class="p">.</span><span class="nf">lex</span><span class="p">(</span><span class="n">code</span><span class="p">))</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div></div></div></div></div><p>e.g.</p><div class="block-tabs"><div class="tab-navs-wrapper"><div class="tab-navs"><div class="tab-nav active"><div class="tab-nav-inner"> raw</div></div><div class="tab-split"></div><div class="tab-nav "><div class="tab-nav-inner"> render</div></div><div class="tab-split"></div><div class="tab-nav "><div class="tab-nav-inner"> html</div></div></div><div class="tab-toggle-left"> <i class="fas fa-chevron-left"></i></div><div class="tab-toggle-right"> <i class="fas fa-chevron-right"></i></div></div><div class="tab-contents"><div class="tab-content active"><div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%-</span><span class="w"> </span><span class="nt">highlight</span><span class="w"> </span>javascript<span class="w"> </span><span class="p">-%}</span>
var json = { name: "balabala", id: 123321 }
function show(str) {
  console.log(str);
}
show(json);
<span class="p">{%-</span><span class="w"> </span><span class="nt">endhighlight</span><span class="w"> </span><span class="p">-%}</span>
</code></pre></div></div></div><div class="tab-content "><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">json</span> <span class="o">=</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">balabala</span><span class="dl">"</span><span class="p">,</span> <span class="na">id</span><span class="p">:</span> <span class="mi">123321</span> <span class="p">}</span>
<span class="kd">function</span> <span class="nx">show</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">show</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span></code></pre></figure></div><div class="tab-content "><div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;figure</span> <span class="na">class=</span><span class="s">"highlight"</span><span class="nt">&gt;&lt;pre&gt;&lt;code</span> <span class="na">class=</span><span class="s">"language-javascript"</span> <span class="na">data-lang=</span><span class="s">"javascript"</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">"kd"</span><span class="nt">&gt;</span>var<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"nx"</span><span class="nt">&gt;</span>json<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"o"</span><span class="nt">&gt;</span>=<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>{<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"na"</span><span class="nt">&gt;</span>name<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>:<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"dl"</span><span class="nt">&gt;</span>"<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"s2"</span><span class="nt">&gt;</span>balabala<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"dl"</span><span class="nt">&gt;</span>"<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"na"</span><span class="nt">&gt;</span>id<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>:<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"mi"</span><span class="nt">&gt;</span>123321<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>}<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"kd"</span><span class="nt">&gt;</span>function<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"nx"</span><span class="nt">&gt;</span>show<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"nx"</span><span class="nt">&gt;</span>str<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>)<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>{<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"nx"</span><span class="nt">&gt;</span>console<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"nx"</span><span class="nt">&gt;</span>log<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"nx"</span><span class="nt">&gt;</span>str<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>);<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>}<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"nx"</span><span class="nt">&gt;</span>show<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"nx"</span><span class="nt">&gt;</span>json<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">"p"</span><span class="nt">&gt;</span>);<span class="nt">&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</span>
</code></pre></div></div></div></div></div><h3 id="line-numbers">line-numbers</h3><blockquote><ul><li><a href="https://jekyllrb.com/docs/liquid/tags/#line-numbers">Jekyll Official website - line number</a></ul></blockquote><p>Add <code class="language-plaintext highlighter-rouge">linenos</code> and line numbers will appear after rendering.</p><div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{% highlight ruby linenos %}
def foo
  puts 'foo'
end
{% endhighlight %}
</code></pre></div></div><p>or modify <code class="language-plaintext highlighter-rouge">_config.yml</code></p><div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">kramdown</span><span class="pi">:</span>
  <span class="na">syntax_highlighter_opts</span><span class="pi">:</span>
    <span class="na">line_numbers</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div><p class="error">It is not recommended to open it, but to use javascript to realize it. (more flexible)</p><h3 id="stylesheets-for-syntax-highlighting">Stylesheets for syntax highlighting</h3><p>Stylesheets for syntax highlighting - <a href="https://jekyllrb.com/docs/liquid/tags/#stylesheets-for-syntax-highlighting">https://jekyllrb.com/docs/liquid/tags/#stylesheets-for-syntax-highlighting</a></p><p>In order for the highlighting to show up, you’ll need to include a highlighting stylesheet. For Pygments or Rouge you can use a stylesheet for Pygments, you can find an example gallery <a href="https://jwarby.github.io/jekyll-pygments-themes/languages/ruby.html">here</a> or from <a href="https://github.com/jwarby/jekyll-pygments-themes">its repository</a>.</p><p>Copy the CSS file (<code class="language-plaintext highlighter-rouge">native.css</code> for example) into your css directory and import the syntax highlighter styles into your <code class="language-plaintext highlighter-rouge">main.css</code>:</p><div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@import</span> <span class="s2">"native.css"</span><span class="p">;</span>
</code></pre></div></div><h3 id="integration-rouge">integration Rouge</h3><p>There are two ways to declare code blocks.</p><ol><li>Jekyll =&gt; Rouge (<code class="language-plaintext highlighter-rouge">{%- highlight javascript -%}...{%- endhighlight -%}</code>)<li>Jekyll =&gt; Kramdown =&gt; Rouge (<code class="language-plaintext highlighter-rouge">``` ... ```</code>)</ol><h4 id="jekyll--rouge">Jekyll =&gt; Rouge</h4><p>e.g.</p><div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%-</span><span class="w"> </span><span class="nt">highlight</span><span class="w"> </span>javascript<span class="w"> </span><span class="p">-%}</span>
code block
<span class="p">{%-</span><span class="w"> </span><span class="nt">endhighlight</span><span class="w"> </span><span class="p">-%}</span>
</code></pre></div></div><p>render</p><div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;figure</span> <span class="na">class=</span><span class="s">"highlight"</span><span class="nt">&gt;&lt;pre&gt;&lt;code</span> <span class="na">class=</span><span class="s">"language-javascript"</span> <span class="na">data-lang=</span><span class="s">"javascript"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;span&gt;</span>code block<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</span>
</code></pre></div></div><div class="details-wrapper"><div class="summary-content">Jekyll source code <a href="https://github.com/jekyll/jekyll/blob/master/lib/jekyll/tags/highlight.rb">lib/jekyll/tags/highlight.rb</a></div><div class="details-content-wrapper"> <details onclick="javascript: window.VARIABLES.pageScrollTarget.scroll({ top: TOOL.positionRelative( (this.open?this.parentElement.parentElement:this.parentElement), window.VARIABLES.pageScroller ).top, behavior: window.VARIABLES.pageScrollerBehavior }); "> <summary class="summary-toggle" title="click to show details"> <i class="summary-toggle-icon fas fa-angle-double-down"></i> </summary> </details><div class="details-content"><div class="details-content-inner"><p>details:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">Jekyll</span>
  <span class="k">module</span> <span class="nn">Tags</span>
    <span class="k">class</span> <span class="nc">HighlightBlock</span> <span class="o">&lt;</span> <span class="no">Liquid</span><span class="o">::</span><span class="no">Block</span>
      <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="n">context</span><span class="p">[</span><span class="s2">"highlighter_prefix"</span><span class="p">]</span> <span class="o">||</span> <span class="s2">""</span>
        <span class="n">suffix</span> <span class="o">=</span> <span class="n">context</span><span class="p">[</span><span class="s2">"highlighter_suffix"</span><span class="p">]</span> <span class="o">||</span> <span class="s2">""</span>
        <span class="n">code</span> <span class="o">=</span> <span class="k">super</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="no">LEADING_OR_TRAILING_LINE_TERMINATORS</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span>

        <span class="n">output</span> <span class="o">=</span>
          <span class="k">case</span> <span class="n">context</span><span class="p">.</span><span class="nf">registers</span><span class="p">[</span><span class="ss">:site</span><span class="p">].</span><span class="nf">highlighter</span>
          <span class="k">when</span> <span class="s2">"rouge"</span>
            <span class="n">render_rouge</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
          <span class="k">when</span> <span class="s2">"pygments"</span>
            <span class="n">render_pygments</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="n">render_codehighlighter</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
          <span class="k">end</span>

        <span class="n">rendered_output</span> <span class="o">=</span> <span class="n">add_code_tag</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
        <span class="n">prefix</span> <span class="o">+</span> <span class="n">rendered_output</span> <span class="o">+</span> <span class="n">suffix</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div></div></div></div></div><h4 id="jekyll--kramdown--rouge">Jekyll =&gt; Kramdown =&gt; Rouge</h4><p>e.g.</p><div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">javascript
</span><span class="nx">code</span> <span class="nx">block</span>
<span class="p">```</span>
</code></pre></div></div><p>render</p><div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"language-javascript highlighter-rouge"</span><span class="nt">&gt;&lt;div</span> <span class="na">class=</span><span class="s">"highlight"</span><span class="nt">&gt;&lt;pre</span> <span class="na">class=</span><span class="s">"highlight"</span><span class="nt">&gt;&lt;code&gt;</span>
  <span class="nt">&lt;span&gt;</span>code block<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</span>
</code></pre></div></div><div class="details-wrapper"><div class="summary-content">Kramdown source code <a href="https://github.com/gettalong/kramdown/blob/master/lib/kramdown/converter/syntax_highlighter/rouge.rb">lib/kramdown/converter/syntax_highlighter/rouge.rb</a></div><div class="details-content-wrapper"> <details onclick="javascript: window.VARIABLES.pageScrollTarget.scroll({ top: TOOL.positionRelative( (this.open?this.parentElement.parentElement:this.parentElement), window.VARIABLES.pageScroller ).top, behavior: window.VARIABLES.pageScrollerBehavior }); "> <summary class="summary-toggle" title="click to show details"> <i class="summary-toggle-icon fas fa-angle-double-down"></i> </summary> </details><div class="details-content"><div class="details-content-inner"><p>details:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">Jekyll</span>
  <span class="k">module</span> <span class="nn">Tags</span>
    <span class="k">class</span> <span class="nc">HighlightBlock</span> <span class="o">&lt;</span> <span class="no">Liquid</span><span class="o">::</span><span class="no">Block</span>
      <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="n">context</span><span class="p">[</span><span class="s2">"highlighter_prefix"</span><span class="p">]</span> <span class="o">||</span> <span class="s2">""</span>
        <span class="n">suffix</span> <span class="o">=</span> <span class="n">context</span><span class="p">[</span><span class="s2">"highlighter_suffix"</span><span class="p">]</span> <span class="o">||</span> <span class="s2">""</span>
        <span class="n">code</span> <span class="o">=</span> <span class="k">super</span><span class="p">.</span><span class="nf">to_s</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="no">LEADING_OR_TRAILING_LINE_TERMINATORS</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span>

        <span class="n">output</span> <span class="o">=</span>
          <span class="k">case</span> <span class="n">context</span><span class="p">.</span><span class="nf">registers</span><span class="p">[</span><span class="ss">:site</span><span class="p">].</span><span class="nf">highlighter</span>
          <span class="k">when</span> <span class="s2">"rouge"</span>
            <span class="n">render_rouge</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
          <span class="k">when</span> <span class="s2">"pygments"</span>
            <span class="n">render_pygments</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
          <span class="k">else</span>
            <span class="n">render_codehighlighter</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
          <span class="k">end</span>

        <span class="n">rendered_output</span> <span class="o">=</span> <span class="n">add_code_tag</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
        <span class="n">prefix</span> <span class="o">+</span> <span class="n">rendered_output</span> <span class="o">+</span> <span class="n">suffix</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div></div></div></div></div><h2 id="Coderay">Coderay</h2><blockquote><ul><li><a href="https://jekyllrb.com/docs/configuration/markdown/#syntax-highlighting-coderay">Jekyll Official website - Syntax Highlighting (CodeRay)</a><li><a href="https://github.com/kramdown/syntax-coderay">Kramdown Official website - Syntax Highlighting (CodeRay)</a></ul></blockquote><p><a href="http://coderay.rubychan.de/">CodeRay</a> is Jekyll Highlighting Parser, but it’s off by default. (use rouge by default)</p><h3 id="get-start">GET START</h3><p>The following configuration is required to open it.</p><p><code class="language-plaintext highlighter-rouge">Gemfile</code></p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gem</span> <span class="s2">"kramdown-syntax-coderay"</span>
</code></pre></div></div><p><code class="language-plaintext highlighter-rouge">_config.yml</code></p><div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">highlighter</span><span class="pi">:</span> <span class="s">coderay</span>
<span class="c1"># or </span>
<span class="na">kramdown</span><span class="pi">:</span>
  <span class="na">syntax_highlighter</span><span class="pi">:</span> <span class="s">coderay</span>
</code></pre></div></div><div class="block-tabs"><div class="tab-navs-wrapper"><div class="tab-navs"><div class="tab-nav active"><div class="tab-nav-inner"> raw</div></div><div class="tab-split"></div><div class="tab-nav "><div class="tab-nav-inner"> html</div></div></div><div class="tab-toggle-left"> <i class="fas fa-chevron-left"></i></div><div class="tab-toggle-right"> <i class="fas fa-chevron-right"></i></div></div><div class="tab-contents"><div class="tab-content active"><figure class="highlight"><pre><code class="language-liquid" data-lang="liquid"><span class="p">{%-</span><span class="w"> </span><span class="nt">highlight</span><span class="w"> </span>javascript<span class="w"> </span><span class="p">-%}</span>
// render before
var json = { name: "balabala", id: 123321 }
function show(str) {
  console.log(str);
}
show(json);
<span class="p">{%-</span><span class="w"> </span><span class="nt">endhighlight</span><span class="w"> </span><span class="p">-%}</span></code></pre></figure></div><div class="tab-content "><figure class="highlight"><pre><code class="language-html" data-lang="html">// render result
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"language-js highlighter-coderay"</span><span class="nt">&gt;&lt;div</span> <span class="na">class=</span><span class="s">"CodeRay"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"code"</span><span class="nt">&gt;&lt;pre&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"line-numbers"</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#n1"</span> <span class="na">name=</span><span class="s">"n1"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/a&gt;&lt;/span&gt;&lt;span</span> <span class="na">style=</span><span class="s">"color:#080;font-weight:bold"</span><span class="nt">&gt;</span>var<span class="nt">&lt;/span&gt;</span> json = { <span class="nt">&lt;span</span> <span class="na">style=</span><span class="s">"color:#606"</span><span class="nt">&gt;</span>name<span class="nt">&lt;/span&gt;</span>: <span class="nt">&lt;span</span> <span class="na">style=</span><span class="s">"background-color:hsla(0,100%,50%,0.05)"</span><span class="nt">&gt;&lt;span</span> <span class="na">style=</span><span class="s">"color:#710"</span><span class="nt">&gt;</span><span class="ni">&amp;quot;</span><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">style=</span><span class="s">"color:#D20"</span><span class="nt">&gt;</span>balabala<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">style=</span><span class="s">"color:#710"</span><span class="nt">&gt;</span><span class="ni">&amp;quot;</span><span class="nt">&lt;/span&gt;&lt;/span&gt;</span>, <span class="nt">&lt;span</span> <span class="na">style=</span><span class="s">"color:#606"</span><span class="nt">&gt;</span>id<span class="nt">&lt;/span&gt;</span>: <span class="nt">&lt;span</span> <span class="na">style=</span><span class="s">"color:#00D"</span><span class="nt">&gt;</span>123321<span class="nt">&lt;/span&gt;</span> }
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"line-numbers"</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#n2"</span> <span class="na">name=</span><span class="s">"n2"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/a&gt;&lt;/span&gt;&lt;span</span> <span class="na">style=</span><span class="s">"color:#080;font-weight:bold"</span><span class="nt">&gt;</span>function<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">style=</span><span class="s">"color:#06B;font-weight:bold"</span><span class="nt">&gt;</span>show<span class="nt">&lt;/span&gt;</span>(str) {
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"line-numbers"</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#n3"</span> <span class="na">name=</span><span class="s">"n3"</span><span class="nt">&gt;</span>3<span class="nt">&lt;/a&gt;&lt;/span&gt;</span>  console.log(str);
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"line-numbers"</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#n4"</span> <span class="na">name=</span><span class="s">"n4"</span><span class="nt">&gt;</span>4<span class="nt">&lt;/a&gt;&lt;/span&gt;</span>}
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"line-numbers"</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#n5"</span> <span class="na">name=</span><span class="s">"n5"</span><span class="nt">&gt;</span>5<span class="nt">&lt;/a&gt;&lt;/span&gt;</span>show(json);
  <span class="nt">&lt;/pre&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;&lt;/div&gt;</span></code></pre></figure></div></div></div><h3 id="config-priority">Config Priority</h3><p>default settings (source code <a href="https://github.com/jekyll/jekyll/blob/master/lib/jekyll/converters/markdown/kramdown_parser.rb">kramdown_parser.rb</a> in [jekyll][jekyll-github])</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">CODERAY_DEFAULTS</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"css"</span>               <span class="o">=&gt;</span> <span class="s2">"style"</span><span class="p">,</span>
  <span class="s2">"bold_every"</span>        <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="s2">"line_numbers"</span>      <span class="o">=&gt;</span> <span class="s2">"inline"</span><span class="p">,</span>
  <span class="s2">"line_number_start"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">"tab_width"</span>         <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span>
  <span class="s2">"wrap"</span>              <span class="o">=&gt;</span> <span class="s2">"div"</span><span class="p">,</span>
<span class="p">}.</span><span class="nf">freeze</span>
</code></pre></div></div><div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">highlighter</span><span class="pi">:</span> <span class="c1"># default rouge</span>
<span class="na">kramdown</span><span class="pi">:</span> <span class="c1"># default {}</span>
  <span class="na">syntax_highlighter</span><span class="pi">:</span> <span class="c1"># default nil</span>
  <span class="na">syntax_highlighter_opts</span><span class="pi">:</span> <span class="c1"># default {}</span>
    <span class="na">default_lang</span><span class="pi">:</span> <span class="c1"># default plaintext</span>
    <span class="c1"># guess_lang: # same as site.guess_lang</span>
  <span class="na">coderay</span><span class="pi">:</span> <span class="c1"># default {}</span>
  <span class="na">show_warnings</span><span class="pi">:</span> 
  <span class="na">input</span><span class="pi">:</span> <span class="s">GFM</span>
  <span class="na">guess_lang</span><span class="pi">:</span> 
</code></pre></div></div><div class="details-wrapper"><div class="summary-content">source code <a href="https://github.com/jekyll/jekyll/blob/master/lib/jekyll/converters/markdown/kramdown_parser.rb">lib/jekyll/converters/markdown/kramdown_parser.rb</a></div><div class="details-content-wrapper"> <details onclick="javascript: window.VARIABLES.pageScrollTarget.scroll({ top: TOOL.positionRelative( (this.open?this.parentElement.parentElement:this.parentElement), window.VARIABLES.pageScroller ).top, behavior: window.VARIABLES.pageScrollerBehavior }); "> <summary class="summary-toggle" title="click to show details"> <i class="summary-toggle-icon fas fa-angle-double-down"></i> </summary> </details><div class="details-content"><div class="details-content-inner"><p>details:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># config[kramdown][syntax_highlighter] &gt;</span>
<span class="c1">#   config[kramdown][enable_coderay] &gt;</span>
<span class="c1">#   config[highlighter]</span>
<span class="c1"># Where `enable_coderay` is now deprecated because Kramdown</span>
<span class="c1"># supports Rouge now too.</span>
<span class="k">def</span> <span class="nf">highlighter</span>
  <span class="k">return</span> <span class="vi">@highlighter</span> <span class="k">if</span> <span class="vi">@highlighter</span>

  <span class="k">if</span> <span class="vi">@config</span><span class="p">[</span><span class="s2">"syntax_highlighter"</span><span class="p">]</span>
    <span class="k">return</span> <span class="vi">@highlighter</span> <span class="o">=</span> <span class="vi">@config</span><span class="p">[</span>
      <span class="s2">"syntax_highlighter"</span>
    <span class="p">]</span>
  <span class="k">end</span>

  <span class="vi">@highlighter</span> <span class="o">=</span> <span class="k">if</span> <span class="vi">@config</span><span class="p">.</span><span class="nf">key?</span><span class="p">(</span><span class="s2">"enable_coderay"</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="vi">@config</span><span class="p">[</span><span class="s2">"enable_coderay"</span><span class="p">]</span>
                    <span class="no">Jekyll</span><span class="o">::</span><span class="no">Deprecator</span><span class="p">.</span><span class="nf">deprecation_message</span><span class="p">(</span>
                      <span class="s2">"You are using 'enable_coderay', "</span> <span class="p">\</span>
                      <span class="s2">"use syntax_highlighter: coderay in your configuration file."</span>
                    <span class="p">)</span>

                    <span class="s2">"coderay"</span>
                  <span class="k">else</span>
                    <span class="vi">@main_fallback_highlighter</span>
                  <span class="k">end</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
  <span class="vi">@main_fallback_highlighter</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">"highlighter"</span><span class="p">]</span> <span class="o">||</span> <span class="s2">"rouge"</span>
  <span class="vi">@config</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">"kramdown"</span><span class="p">]</span> <span class="o">||</span> <span class="p">{}</span>
  <span class="vi">@highlighter</span> <span class="o">=</span> <span class="kp">nil</span>
  <span class="n">setup</span>
  <span class="n">load_dependencies</span>
<span class="k">end</span>
</code></pre></div></div></div></div></div></div><h2 id="Pygments">Pygments</h2><p class="error">Using <a href="https://pygments.org/">Pygments</a> has been deprecated and is not supported in Jekyll 4; the configuration setting <code class="language-plaintext highlighter-rouge">highlighter: pygments</code> now automatically falls back to using Rouge which is written in Ruby and 100% compatible with stylesheets for Pygments.</p><h2 id="compare-vs-rouge-conderay">Compare VS: rouge, conderay</h2><blockquote><ul><li><a href="https://ruby.libhunt.com/compare-rouge-vs-coderay">Website “Awesome Ruby” - compare-rouge-vs-coderay</a><li><a href="https://www.redmine.org/issues/24681#note-46">Website “Redmine” - List of languages supported by Rouge and CodeRay</a></ul></blockquote><p>Current syntax highlighter CodeRay does not support popular languages such as C#, Visual Basic, Objective C, Swift, … and so on. Unfortunately the development of CodeRay is not so active now, it is difficult to expect that CodeRay will support those languages.</p><p>On the contrary, [Rouge][ruge-github] supports <a href="https://github.com/rouge-ruby/rouge/wiki/List-of-supported-languages-and-lexers">100+ languages</a>.</p><blockquote><p>Syntax highlighter: replace CodeRay with Rouge - <a href="https://www.redmine.org/issues/24681">https://www.redmine.org/issues/24681</a></p></blockquote><p><strong>summary</strong></p><p><a href="#Coderay">Coderay</a> (few languages support) and <a href="#Pygments">Pygments</a> (Jekyll is no longer supported) are optional. Therefore, Rouge is the best choice.</p><hr /><blockquote><p>Related Links</p><ul><li><a href="https://docs.github.com/en/get-started/writing-on-github/working-with-advanced-formatting/creating-and-highlighting-code-blocks">Github Docs - Github - Syntax highlight</a><li><a href="https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/about-github-pages-and-jekyll#syntax-highlighting">Github Docs - Github Page - Syntax highlight</a></ul></blockquote></div><div class="article__footer d-print-none"><footer class="footer horizontal-rules-dashed"><p> <span>更新于 <time itemprop="dateModified" datetime="2022-08-17T17:13:09+00:00">2022年08月18日</time> </span></p><p>1067 字</p><p>原始链接 <a href="https://lawsssscat.github.io:4000/jekyll-docs/markdown/highlight">https://lawsssscat.github.io:4000/jekyll-docs/markdown/highlight</a></p><div class="article__license"><div class="license"><p>本文遵守 <a itemprop="license" rel="license" href="https://creativecommons.org/licenses/by/4.0/">Attribution 4.0 International</a> 许可协议。 <a rel="license" href="https://creativecommons.org/licenses/by/4.0/"> <img alt="Attribution 4.0 International" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /> </a></p></div></div><div class="article__footer_navigation"><div class="navigation clearfix"><div class="previous"> <span>上篇</span><a href="/jekyll-docs/markdown/processor">Renderer</a></div><div class="next"> <span>下篇</span><a href="/jekyll-docs/ruby">Ruby</a></div></div></div></footer></div></div><script> window.VARIABLES.append({ paveview: { appId: "OC6yw4BTaMHK4tuRLUG2jbPd-MdYXbMMI", appKey: "wlnRdeSQaLI70XWjvabbtGeq", appClass: "pageview",} }); </script><script src="/jekyll-docs/assets/js/dist/pageview/leancloud.min.js"></script><script src="/jekyll-docs/assets/js/dist/layouts/article.min.js"></script></div></article></div></div></div></div><div class="page__footer d-print-none"><footer class="footer py-4"><div class="main"><div itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="lawsssscat"><meta itemprop="url" content="https://lawsssscat.github.io/"><meta itemprop="description" content="Expect inspiring inspiration. 😉"><div class="footer__author-links"><div class="author-links"><ul><link itemprop="url" href="https://lawsssscat.github.io/"><li title="订阅"> <a class="button button--circle rss-button" itemprop="sameAs" href="/jekyll-docs/feed.xml" target="_blank"> <i class="fas fa-rss"></i></a><li title="给我发邮件。"> <a class="button button--circle mail-button" itemprop="email" href="mailto:1191693505@qq.com" target="_blank"> <i class="fas fa-envelope"></i></a><li title="在 Github 上关注我。"> <a class="button button--circle github-button" itemprop="sameAs" href="https://github.com/lawsssscat" target="_blank"> <i class="fab fa-github"></i></a></ul></div></div></div><div class="site-info"><div> © jekyll-docs 2022, Powered by <a title="Jekyll is a simple, blog-aware, static site generator." href="http://jekyllrb.com/">Jekyll</a> & <a title="Collects the common information of Jekyll and put all in one site." href="https://github.com/LawssssCat/jekyll-docs">Jekyll docs all in one</a></div></div></div></footer></div></div></div></div></div></div></div><script src="/jekyll-docs/assets/js/dist/commons.min.js"></script>